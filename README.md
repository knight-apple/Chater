# 使用说明

## 操作指南

#### 如何开始？

​	将三个jar文件放在同一个目录下，双击Chater.jar文件启动通信程序。

#### 发送消息

​	点击选择左侧的按钮之后可以看到聊天框上部的文字变成了对应按钮的名字，此时在右侧聊天框中点击下部的输入框，待出现闪烁的光标时，即可输入文字。输入完成后可点击右下角的发送按钮，或者直接使用快捷键Ctrl+Enter来实现发送功能。

#### 发送文件和图片

​	将希望发送的文件或图片之间拖入输入框中，产生该图片的缩略图或者该文件的图标后即可发送。

#### 广播消息

​	点击左侧聊天框中的0:/所有人之后再进行发送，将会把消息同时发送给所有人。

#### 如何接收消息

​	当客户端接收到来自已连接的用户的消息之后，如果接收用户未将该发送用户置顶，则将会在左侧的按钮上产生一个红点，表示有新消息。

#### 如何保存文件

​	双击接收到的文件图标，将会出现选择保存的文件选择器，用户可以选择保存位置并为其命名。

#### 如何查看原图

​	双击接收到的文件的缩略图，将会出现一个显示该图片原图的弹出框。

#### 如何设置本地用户名

​	点击“本地”选择“设置用户名” 在弹出框中填入新用户名，发送的消息时显示的用户名将会改变。

#### 如何设置外观

​	点击“设置外观”，选择希望的外观类型，即可更改外观。

#### 如何修改配置

​	点击“本地” ，点击配置按钮，在弹出框中设置希望的配置，点击确定即可。

#### 如何最大化/还原

​	双击任何没有功能的空白区域即可最大化，再次双击即可还原，或者使用鼠标拖动边框来改变大小。

## 配置

**extendHost**

附加的扫描IP，可以用这个属性来配置服务器和快速找到某一个服务器节点，可用来实现中心服务器的配置

**LocalHost**

本地的IP，让客户端可以快速找到本机服务器,请勿更改。

**ScanThreads**

扫描网段的线程池中的线程数

**ServerWaitTime**

服务器轮询其他每个服务器时的间隔时间

**ClientWaitTime**

客户端心跳时间向服务器发送心跳的间隔时间

ScanWaitTime

扫描网段时，调用线程的等待时间

ServerUrl

本地服务器地址，作用和LocalHost一致，请勿更改

ServerPort

中心服务器自定义端口，用来作为服务器绑定的接收端口，和其他主机间通信的主要依据，请慎重更改

MaxInformation

最大消息条数，需重启程序更改

MaxErrorTimes

心跳的容许误差次数，防止网络原因导致断联

ImageHeight

发送图片的显示高度，宽度自动匹配

FileIconPath

文件图片的地址来源，默认为jar包中的文件

FileNameMaxLength

文件名显示的最大长度，长度过大将会导致排版错误

LookAndFeel

外观风格，建议在设置外观中修改。

FileCriticalValue

大文件临界值(M)，超过该大小后将会使用断点续传来传输文件。（尚未实现，请无视）

WindowOpacity

窗口的透明度，建议修改至0.9以上，将会影响到图片的显示

resizableRange

鼠标改变主界面大小时，鼠标可改变界面大小的距离边界的范围

UseOpcity = false

是否使用半透明效果

## Q&A

#### Q：

​	如何保存图片？

#### A：

​	图片本来就是来看的 ，要保存的话，把后缀名改掉或去掉即可作为文件发送。

#### Q:

​	配置中临时表示什么？

#### A:

​	临时表示在修改配置时，只修改临时框选中的配置项在运行时程序中的配置，不修改系统配置。

#### Q:

​	获取系统配置是什么意思？

#### A:

​	系统配置是指在用户目录下的.chater目录中的program.properties文件，在将其修改后或者其他客户端修改后，可以使用此项来进行更新。

#### Q:

​	为什么发送的消息对方没收到？

#### A:

​	可能的原因有很多，1、对方的客户端还未将您加载到窗口中，导致没有地方存放您的消息而丢弃该消息。2、您发送的消息引起了系统错误。3、网络不畅或者对方关闭了该程序，但是在您的客户端尚未更新此类数据。

#### Q:

​	为什么一直都没有连接到其他用户？

#### A:

​	1、请检查是否在同一局域网下。2、检查是否使用了同一服务器端口，若未使用同一端口，请重置配置后，修改为同一端口，配置后等待1分钟，若仍然起效请重启后耐心等待。

#### Q:

​	为什么发送不了消息？

#### A:

​	请检查键盘是否失灵，尝试使用按钮来进行发送，若仍不能发送，请重置配置后重启再试。

#### Q:

​	查看主机列表有什么用？

#### A:

​	为了让您知道事实上有台主机在局域网中可通信，方便调试和查看网络连接情况。

#### Q:

​	为什么在修改了服务器配置端口后，发送对象都没了？

#### A:

​	由于修改端口后，服务器重启，连接端口均发生改变，请更改所有客户端端口至一致状态。若仍然不能正常连接，请查看主机列表中是否存在该主机，若存在请耐心等待，若不存在请重启程序。

#### Q:

​	为什么文字全变成方块了？

#### A:

​	请检查系统的默认字体，修改至Win常用的字体或者Serif字体,并更新字体库。

#### Q:

​	为什么修改用户名后，在对方的客户端列表中用户名没有修改？

#### A:

​	对方用户程序尚未更新，请耐心等待。
